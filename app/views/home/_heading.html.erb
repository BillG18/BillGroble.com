<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<div class="heading-container">
    <div id="card-container">
        <div id="extinguish-background"></div>
        <div id="snap-background"></div>
        <div id="business-card">
            <div id="card-content">
                <h2>Billy Groble</h2>
                <h3>Software Developer</h3>
                <p id="email">bill.groble@gmail.com</p>
                <div id="contact"><%= render 'contact' %></div>
                <!--<p>(856) 938-6921</p>-->
            </div>
            
            <span class="l1"></span>
            <span class="l2"></span>
            <span class="l3"></span>
            <span class="l4"></span>
            
            <div class="corner" id="top-left"></div>
            <div class="corner" id="top-right"></div>
            <div class="corner" id="bottom-left"></div>
            <div class="corner" id="bottom-right"></div>
            
        </div>
        <div id="shadow"></div>
    </div>
</div>
<script>
$("#top-left").mouseenter(function(){
    $("#snap-background").removeClass("visible");
    $("#extinguish-background").addClass("visible");
});
$("#top-right").mouseenter(function(){
    $("#extinguish-background").removeClass("visible");
    $("#snap-background").addClass("visible");
});

$("#top-left").click(function(){
    $("#business-card").css("transform-origin", "right bottom");
    $("#business-card").addClass("exit-right");
    setTimeout(function() {
        $("#extinguish-background.visible").addClass("fullscreen")
    }, 1000);
});
$("#extinguish-background").click(function(){
    $("#extinguish-background.visible").removeClass("fullscreen")
    setTimeout(function() {
        $("#business-card").removeClass("exit-right");
    }, 1000);
});

$("#top-right").click(function(){
    $("#business-card").css("transform-origin", "left bottom");
    $("#business-card").addClass("exit-left");
    setTimeout(function() {
        $("#snap-background.visible").addClass("fullscreen");
    }, 1000);
});
$("#snap-background").click(function(){
    $("#snap-background.visible").removeClass("fullscreen");
    setTimeout(function() {
        $("#business-card").removeClass("exit-left");
    }, 1000);
});


$("#email").click(function(){
    $("#business-card").css("transform-origin", "initial");
    $("#snap-background").removeClass("visible");
    $("#extinguish-background").removeClass("visible");
    $("#business-card").addClass("flipY");
    $("#contact").addClass("visible");
    setTimeout(function() {
        $("#business-card").addClass("expanded");
        $("#shadow").addClass("expanded")
    }, 1000);
});
$("#contact").click(function(){
    $("#business-card").removeClass("expanded");
    $("#shadow").removeClass("expanded")
    setTimeout(function() {
        $("#business-card").removeClass("flipY");
        $("#contact").removeClass("visible");
    }, 1000);
});
</script>